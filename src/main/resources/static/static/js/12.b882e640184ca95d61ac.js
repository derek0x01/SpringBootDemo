webpackJsonp([12],{"62hH":function(e,t){},Quw4:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("Xxa5"),o=r.n(a),n=r("exGp"),s=r.n(n),i={name:"Login",data:function(){return{form:{adminName:"",adminPassword:""},rules:{adminName:[{required:!0,message:"账号不可为空",trigger:"blur"}],adminPassword:[{required:!0,message:"密码不可为空",trigger:"blur"}]},formTwo:{userName:"",userPassword:""},dialogVisible:!1}},methods:{onSubmit:function(e){var t,r=this;this.$refs[e].validate((t=s()(o.a.mark(function e(t){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=14;break}return e.next=3,r.$http.post("api/login",r.form);case 3:if(a=e.sent,200===a.data.code){e.next=9;break}return e.abrupt("return",r.$message.error("登录失败"));case 9:sessionStorage.setItem("adminName",r.form.adminName),sessionStorage.setItem("token","true"),r.$router.push("/main");case 12:e.next=16;break;case 14:return r.dialogVisible=!0,e.abrupt("return",!1);case 16:case"end":return e.stop()}},e,r)})),function(e){return t.apply(this,arguments)}))},onSubmitTwo:function(e){var t,r=this;this.$refs[e].validate((t=s()(o.a.mark(function e(t){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=16;break}return r.formTwo.userName=r.form.adminName,r.formTwo.userPassword=r.form.adminPassword,e.next=5,r.$http.post("api/loginTwo",r.formTwo);case 5:if(a=e.sent,200===a.data.code){e.next=11;break}return e.abrupt("return",r.$message.error("登录失败"));case 11:sessionStorage.setItem("userName",r.formTwo.userName),sessionStorage.setItem("token","true"),r.$router.push("/mainTwo");case 14:e.next=18;break;case 16:return r.dialogVisible=!0,e.abrupt("return",!1);case 18:case"end":return e.stop()}},e,r)})),function(e){return t.apply(this,arguments)})),sessionStorage.setItem("testKey","测试")},handleClose:function(e){this.$confirm("确认关闭？").then(function(t){e()}).catch(function(e){})}}},m={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("body",{attrs:{id:"login-img"}},[r("el-form",{ref:"loginForm",staticClass:"login-box",attrs:{model:e.form,rules:e.rules,"label-width":"80px","hide-required-asterisk":"false"}},[r("h3",{staticClass:"login-title"},[e._v("欢迎来到管理系统")]),e._v(" "),r("el-form-item",{attrs:{label:"账号",prop:"adminName"}},[r("el-input",{attrs:{type:"text",placeholder:"请输入账号"},model:{value:e.form.adminName,callback:function(t){e.$set(e.form,"adminName",t)},expression:"form.adminName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"密码",prop:"adminPassword"}},[r("el-input",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:e.form.adminPassword,callback:function(t){e.$set(e.form,"adminPassword",t)},expression:"form.adminPassword"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("loginForm")}}},[e._v("管理人员登录")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmitTwo("loginForm")}}},[e._v("普通员工登录")])],1)],1),e._v(" "),r("el-dialog",{attrs:{title:"温馨提示",visible:e.dialogVisible,width:"30%","modal-append-to-body":!1},on:{"update:visible":function(t){e.dialogVisible=t}}},[r("span",[e._v("请输入账号和密码")]),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("确 定")])],1)])],1)},staticRenderFns:[]};var u=r("VU/8")(i,m,!1,function(e){r("62hH")},"data-v-4446f701",null);t.default=u.exports}});
//# sourceMappingURL=12.b882e640184ca95d61ac.js.map